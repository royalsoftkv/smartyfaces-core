function scrollToElement(e){if($(e).length==0)return;$("html, body").animate({scrollTop:$(e).offset().top},0)}php.beforeSend=function(){$(".ajax-status").parent().css("display","block");$("#sf-status").css("display","block")};php.complete=function(){$(".ajax-status").parent().css("display","none");$("#sf-status").css("display","none")};php.error=function(e,t,n){$(".sf_err").remove();$("body").append('<div class="sf_err" onclick="$(this).hide();">'+e.responseText+"</div>")};SF={a:function(e,t,n){SF.ajax.ajaxAction(e,t,n)},e:function(e,t){SF.ajax.eventAction(e,t)},p:function(e,t){SF.ajax.pollAction(e,t)},l:function(e){SF.ajax.linkAction(e)},loadDatepicker:function(e,t){t.showOn="button";t.buttonImageOnly=true;$("#"+e).datepicker(t)},loadTinyMce:function(e,t){$("#"+e).tinymce(t)},isScrolledIntoView:function(e){var t=$(window).scrollTop();var n=t+$(window).height();var r=$(e).offset().top;var i=r+$(e).height();return i<=n&&r>=t},scrollToElement:function(e){if($(e).length==0)return;if(SF.isScrolledIntoView(e))return;$("html, body").animate({scrollTop:$(e).offset().top},0)},attachTooltip:function(e,t){$("#"+e).attr("title","");content=$("#"+e+"-content").html();$("#"+e).tooltip({content:content,tooltipClass:t})}};SF.ajax={url:"",ajaxAction:function(e,t,n){form=$(e).closest("form");data={};data.sf_source=e==null?null:e.id;if(form)data.sf_form_data=form.serialize();if(t)data.sf_action=t;if(n)data.sf_action_data=n;$.php(SF.ajax.url,data)},eventAction:function(e,t){el=e.target;form=$(el).closest("form");data={};data.sf_source=el.id;if(form)data.sf_form_data=form.serialize();if(e)data.sf_event=e.type;oncomplete=null;if(t){if(t.actionData)data.sf_action_data=t.actionData;if(t.oncomplete)oncomplete=t.oncomplete}$.php(SF.ajax.url,data,oncomplete)},pollAction:function(e,t){el=$("#"+e);form=$(el).closest("form");data={};data.sf_source=e;if(form)data.sf_form_data=form.serialize();data.sf_event="poll";oncomplete=null;if(t){if(t.actionData)data.sf_action_data=t.actionData;if(t.oncomplete)oncomplete=t.oncomplete}$.php(SF.ajax.url,data,oncomplete)},linkAction:function(e){data={sf_link_action:true,sf_action:e};$.php(SF.ajax.url,data)},loadPickListHandler:function(e){left=$("#"+e+"_l");right=$("#"+e+"_r");hidden=$("#"+e);$("#"+e+"_bnt_mr").click(function(){moveOptions(left.find("option:checked"),right);updateHidden()});$("#"+e+"_bnt_mar").click(function(){moveOptions(left.find("option"),right);updateHidden()});$("#"+e+"_bnt_ml").click(function(){moveOptions(right.find("option:checked"),left);updateHidden()});$("#"+e+"_bnt_mal").click(function(){moveOptions(right.find("option"),left);updateHidden()});$("#"+e+"_bnt_up").click(function(){right.find("option:checked").each(function(){$(this).insertBefore($(this).prev())});updateHidden()});$("#"+e+"_bnt_dn").click(function(){right.find("option:checked").each(function(){$(this).insertAfter($(this).next())});updateHidden()});$("#"+e+"_bnt_tp").click(function(){var e=right.find("option:checked");var t=right.children("option").not(":selected").first();$(e).insertBefore(t);updateHidden()});$("#"+e+"_bnt_bt").click(function(){var e=right.find("option:checked");var t=right.children("option").not(":selected").last();$(e).insertAfter(t);updateHidden()});moveOptions=function(e,t){e.each(function(){t.append($(this).clone());$(this).remove()})};updateHidden=function(){arr=new Array;right.find("option").each(function(){arr.push($(this).val())});s=arr.join();hidden.attr("value",s)}}};SF.upload={submit:function(e,t){form=$(e).closest("form");form.attr("target","sf_iframe");form.attr("enctype","multipart/form-data");form.attr("action",SF.ajax.url+"&file_upload=true&sf_source="+e.id+"&form_id="+form.attr("id"));form.find("#"+t+"_div #sf_upload_form").css("display","none");form.find("#"+t+"_div #sf_upload_process").css("display","block");form.find("#"+t+"_div #sf_upload_data").val(form.serialize());form.submit()},stop:function(e,t,n){form=$("#"+e);form.removeAttr("target");form.attr("enctype","multipart/form-data");form.attr("action","");form.find("#sf_upload_form").css("display","block");form.find("#sf_upload_process").css("display","none");data={sf_form_data:form.serialize(),sf_source:t,sf_files:n};$.php(SF.ajax.url,data)},abort:function(e,t,n){form=$("#"+e);form.removeAttr("target");form.removeAttr("enctype");form.attr("action","");form.find("#"+t).val("");form.find("#"+t+"_div #sf_upload_process").css("display","none");form.find("#"+t+"_div #sf_upload_error").css("display","block");form.find("#"+t+"_div #sf_upload_error_msg").html(n)},reset:function(e){$("#"+e+"_div #sf_upload_form").css("display","block");$("#"+e+"_div #sf_upload_error").css("display","none")}};SF.inplace={show:function(e){lbl=$(e);lbl.hide();fld=lbl.next();fld.show()},blur:function(e,t){fld=$(e);fld.hide();lbl=fld.prev();if(fld.val().trim().length>0){lbl.text(fld.val())}else{lbl.text(t)}lbl.show()}};SF.dm={paginate:function(e,t,n){SF.a(e,null,{action:t,param:n})},sort:function(e,t){SF.a(e,null,{action:"sort"})},selectAll:function(e){$(e).closest("table.sf-datatable").find(".sf-input-checkbox").each(function(){$(this).attr("checked","checked")})},selectNone:function(e){$(e).closest("table.sf-datatable").find(".sf-input-checkbox").each(function(){$(this).removeAttr("checked")})},selectInvert:function(e){$(e).closest("table.sf-datatable").find(".sf-input-checkbox").each(function(){if($(this).is(":checked")){$(this).removeAttr("checked")}else{$(this).attr("checked","checked")}})}};SF.tabs={init:function(e,t){$("#"+e+"-tabs").tabs(t)},action:function(e){$("#"+e+"-tabs").on("tabsbeforeactivate",function(t,n){index=$(this).find("ul.ui-tabs-nav li").index(n.newTab);$("#"+e).val(index);SF.a($("#"+e).get(0),null,null)})}}